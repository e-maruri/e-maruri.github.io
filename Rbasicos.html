<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>R mínimo para economistas</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Emmanuel Maruri</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Inicio
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Códigos de R
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Rbasicos.html">R mínimo para economistas</a>
    </li>
    <li>
      <a href="ENIGH101.html">ENIGH 101</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">R mínimo para economistas</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#básicos">Básicos</a><ul>
<li><a href="#limpiar-el-espacio-de-trabajo">Limpiar el espacio de trabajo</a></li>
<li><a href="#tipos-de-datos">Tipos de datos</a></li>
<li><a href="#vectores">Vectores</a></li>
<li><a href="#matrices">Matrices</a><ul>
<li><a href="#transpuesta">Transpuesta</a></li>
<li><a href="#inversa">Inversa</a></li>
<li><a href="#multiplicación">Multiplicación</a></li>
<li><a href="#seleccionar-elementos-de-una-matriz">Seleccionar elementos de una matriz</a></li>
<li><a href="#combinar-elementos-entre-matrices">Combinar elementos entre matrices</a></li>
</ul></li>
</ul></li>
<li><a href="#importar-bases-de-datos">Importar bases de datos</a><ul>
<li><a href="#inegi---bie">INEGI - BIE</a></li>
<li><a href="#agregación-de-datos">Agregación de datos</a></li>
<li><a href="#tasas-de-crecimiento">Tasas de crecimiento</a></li>
</ul></li>
<li><a href="#tablas">Tablas</a><ul>
<li><a href="#kable">Kable</a></li>
</ul></li>
<li><a href="#econometría">Econometría</a><ul>
<li><a href="#propiedades-estadísticas-de-los-estimadores">Propiedades estadísticas de los estimadores</a><ul>
<li><a href="#insesgadez">Insesgadez</a></li>
</ul></li>
</ul></li>
</ul>
</div>


<hr />
<div id="básicos" class="section level1">
<h1>Básicos</h1>
<div id="limpiar-el-espacio-de-trabajo" class="section level2">
<h2>Limpiar el espacio de trabajo</h2>
<pre class="r"><code>rm(list=ls())  </code></pre>
</div>
<div id="tipos-de-datos" class="section level2">
<h2>Tipos de datos</h2>
<pre class="r"><code>c(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)  # Caracter</code></pre>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<pre class="r"><code>1:7             # Entero</code></pre>
<pre><code>## [1] 1 2 3 4 5 6 7</code></pre>
<pre class="r"><code>40&lt;80           # Valor logico</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>2+2 == 5        # Valor logico</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>T == TRUE       # T expresion corta de verdadero</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>h &lt;- 24         # Asignar un valor a la variable h 
sum (10,20,30)    # Función suma</code></pre>
<pre><code>## [1] 60</code></pre>
<pre class="r"><code>rep(&#39;R&#39;, times=3) # Repite la letra R el número de veces que se indica</code></pre>
<pre><code>## [1] &quot;R&quot; &quot;R&quot; &quot;R&quot;</code></pre>
<pre class="r"><code>sqrt(9)           # Raíz cuadrada de 9</code></pre>
<pre><code>## [1] 3</code></pre>
</div>
<div id="vectores" class="section level2">
<h2>Vectores</h2>
<pre class="r"><code>(a &lt;- c(1,2,3,4,5,6)) </code></pre>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<pre class="r"><code>(b &lt;- c(1:9))</code></pre>
<pre><code>## [1] 1 2 3 4 5 6 7 8 9</code></pre>
<pre class="r"><code>y &lt;- c(&#39;Primaria&#39;, &#39;Secundaria&#39;) # Vector caracteres
1:5               # Secuencia 1-5</code></pre>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<pre class="r"><code>seq(1, 10, 0.5)   # Secuencia con incrementos diferentes a 1</code></pre>
<pre><code>##  [1]  1.0  1.5  2.0  2.5  3.0  3.5  4.0  4.5  5.0  5.5  6.0  6.5
## [13]  7.0  7.5  8.0  8.5  9.0  9.5 10.0</code></pre>
<pre class="r"><code>y[2]              # Acceder al segundo valor del vector y</code></pre>
<pre><code>## [1] &quot;Secundaria&quot;</code></pre>
<pre class="r"><code>(z &lt;- c(0, y, 5))   # Concatena escalares y vectores</code></pre>
<pre><code>## [1] &quot;0&quot;          &quot;Primaria&quot;   &quot;Secundaria&quot; &quot;5&quot;</code></pre>
</div>
<div id="matrices" class="section level2">
<h2>Matrices</h2>
<p>Para crear matrices con los vectores <strong>a</strong> y <strong>b</strong>:</p>
<pre class="r"><code>(A &lt;- matrix(a, ncol=2, byrow = TRUE))</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4
## [3,]    5    6</code></pre>
<pre class="r"><code>(B &lt;- matrix(b, ncol=3, byrow = T))</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9</code></pre>
<p>Para ponerle nombre a las filas y columnas de la matriz <strong>A</strong></p>
<pre class="r"><code>colnames(A) &lt;- c(&quot;X&quot;,&quot;Y&quot;)
rownames(A) &lt;- c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;)
A</code></pre>
<pre><code>##   X Y
## A 1 2
## B 3 4
## C 5 6</code></pre>
<div id="transpuesta" class="section level3">
<h3>Transpuesta</h3>
<pre class="r"><code>t(A)</code></pre>
<pre><code>##   A B C
## X 1 3 5
## Y 2 4 6</code></pre>
</div>
<div id="inversa" class="section level3">
<h3>Inversa</h3>
<pre class="r"><code>solve(B^2) #Elevamos B al cuadrado porque sino no era invertible</code></pre>
<pre><code>##            [,1]       [,2]       [,3]
## [1,]  1.2916667 -1.1666667  0.3750000
## [2,] -2.1666667  1.6666667 -0.5000000
## [3,]  0.9305556 -0.6111111  0.1805556</code></pre>
</div>
<div id="multiplicación" class="section level3">
<h3>Multiplicación</h3>
<p>Con el comando %*%.</p>
<pre class="r"><code>B%*%A</code></pre>
<pre><code>##       X   Y
## [1,] 22  28
## [2,] 49  64
## [3,] 76 100</code></pre>
</div>
<div id="seleccionar-elementos-de-una-matriz" class="section level3">
<h3>Seleccionar elementos de una matriz</h3>
<p>Usando [,] justo después de la matriz, donde el primer elemento indica el número de fila y el segundo el número de columna. Si, por ejemplo, el segundo elemento se deja en blanco, R tomará todas las columnas.</p>
<pre class="r"><code>B[1,2]</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>B[1:2,]</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6</code></pre>
</div>
<div id="combinar-elementos-entre-matrices" class="section level3">
<h3>Combinar elementos entre matrices</h3>
<p>Se usa el comando <em>cbind</em> para unir columnas, y <em>rbind</em> para unir filas. Nótese que los argumentos deben tener la misma cantidad de renglones en el caso de <em>cbind</em>, y la misma cantidad de columnas en el caso de <em>rbind</em>.</p>
<pre class="r"><code>cbind(A,B)</code></pre>
<pre><code>##   X Y      
## A 1 2 1 2 3
## B 3 4 4 5 6
## C 5 6 7 8 9</code></pre>
<pre class="r"><code>rbind(A,B[,1:2])</code></pre>
<pre><code>##   X Y
## A 1 2
## B 3 4
## C 5 6
##   1 2
##   4 5
##   7 8</code></pre>
</div>
</div>
</div>
<div id="importar-bases-de-datos" class="section level1">
<h1>Importar bases de datos</h1>
<div id="inegi---bie" class="section level2">
<h2>INEGI - BIE</h2>
<p>Una de las fuentes más comunes para descargar datos en México es el Banco de Información Económica (<a href="https://www.inegi.org.mx/sistemas/bie/">BIE</a>) del INEGI. Básicamente todos los tipos de archivos de datos se leen de la misma forma, con ligeras variantes entre unos y otros, así que si dominas una forma será fácil leer otros tipos de archivos.</p>
<p>Para poner un ejemplo descargamos datos de 2005 a 2019 de inflación y desempleo en formato csv. Todas las bases descargadas de ahí tienen la misma estructura, la primera fila tiene el tipo de periodicidad, en este caso mensual, y la segunda fila el nombre de las variables, que es la ruta mediante la cual se obtuvo, lo cual no es útil para procesar los datos.</p>
<p>Utilizamos la función <em>read.csv</em> para leer el archivo, el primer argumento contiene la ruta del archivo, usamos la opción <em>skip</em> para saltarnos las primeras dos filas del archivo, lo que combinamos con la opción <em>header = FALSE</em> para indicar que la primera fila del archivo no contiene los nombres de las variables, los cuales hemos determinado nosotros con la opción <em>col.names</em>. También hay que tener en cuenta que las bases descargadas del BIE suelen tener notas al final de los datos, si no las consideramos la base no se cargará de manera adecuada, lo cual podemos solucionar simplemente indicando el número máximo de renglones que queremos que lea, en este caso nuestro último renglón con datos es el 182, menos dos que quitamos al inicio, 180, lo cual indicamos con la opción <em>nrows</em>.</p>
<pre class="r"><code>#choose.files()
rutaCP &lt;- &quot;C:\\Users\\marur\\Desktop\\BIE_BIE20200604182657.csv&quot;
baseCP &lt;- read.csv(rutaCP, 
                    header = F,
                    skip = 2, 
                    nrows = 180,
                    col.names = c(&quot;Periodo&quot;, &quot;Desempleo&quot;, &quot;Inflacion&quot;, &quot;Indice_inf&quot;))
# La función str nos dice la estructura de las variables en nuestro data frame
str(baseCP)</code></pre>
<pre><code>## &#39;data.frame&#39;:    180 obs. of  4 variables:
##  $ Periodo   : Factor w/ 180 levels &quot;2005/01&quot;,&quot;2005/02&quot;,..: 1 2 3 4 5 6 7 8 9 10 ...
##  $ Desempleo : num  3.64 3.55 3.63 3.57 3.68 ...
##  $ Inflacion : num  4.54 4.27 4.39 4.6 4.6 4.33 4.47 3.95 3.51 3.05 ...
##  $ Indice_inf: num  58.3 58.5 58.8 59 58.8 ...</code></pre>
<p>Nótese que la variable Periodo no está en formato fecha, lo cual es un problema al momento de procesar la información, así que ahora veremos cómo convertirla al formato adecuado. Utilizaremos la libreria <em>zoo</em> (que tienes que instalar previamente), en especial la función <em>as.yearmon</em>.</p>
<pre class="r"><code>#### Convertir columna de fecha en meses a formato fecha
baseCP$Periodo &lt;- as.yearmon(baseCP$Periodo, format=&quot;%Y/%m&quot;)
baseCP$Periodo &lt;- as.Date(baseCP$Periodo)
str(baseCP)</code></pre>
<pre><code>## &#39;data.frame&#39;:    180 obs. of  4 variables:
##  $ Periodo   : Date, format: &quot;2005-01-01&quot; ...
##  $ Desempleo : num  3.64 3.55 3.63 3.57 3.68 ...
##  $ Inflacion : num  4.54 4.27 4.39 4.6 4.6 4.33 4.47 3.95 3.51 3.05 ...
##  $ Indice_inf: num  58.3 58.5 58.8 59 58.8 ...</code></pre>
</div>
<div id="agregación-de-datos" class="section level2">
<h2>Agregación de datos</h2>
<pre class="r"><code>des_men &lt;- ts(baseCP$Desempleo, start = 2005, frequency = 12)
des_trim &lt;- aggregate(des_men, nfrequency = 4, mean)
des_anual &lt;- aggregate(des_men, nfrequency = 1, mean)</code></pre>
</div>
<div id="tasas-de-crecimiento" class="section level2">
<h2>Tasas de crecimiento</h2>
<pre class="r"><code>baseCP &lt;- baseCP %&gt;% mutate(inf_anual = ((Indice_inf/lag(Indice_inf, n=12))-1)*100, 
                  inf_mensual = ((Indice_inf/lag(Indice_inf))-1)*100 )
head(baseCP, n=20)</code></pre>
<pre><code>##       Periodo Desempleo Inflacion Indice_inf inf_anual
## 1  2005-01-01  3.636742      4.54   58.30916        NA
## 2  2005-02-01  3.551422      4.27   58.50343        NA
## 3  2005-03-01  3.632590      4.39   58.76712        NA
## 4  2005-04-01  3.566550      4.60   58.97642        NA
## 5  2005-05-01  3.677900      4.60   58.82825        NA
## 6  2005-06-01  3.743541      4.33   58.77178        NA
## 7  2005-07-01  3.575242      4.47   59.00180        NA
## 8  2005-08-01  3.434784      3.95   59.07226        NA
## 9  2005-09-01  3.340340      3.51   59.30901        NA
## 10 2005-10-01  3.260725      3.05   59.45458        NA
## 11 2005-11-01  3.147273      2.91   59.88249        NA
## 12 2005-12-01  3.173325      3.33   60.25031        NA
## 13 2006-01-01  3.202318      3.94   60.60363  3.935000
## 14 2006-02-01  3.521815      3.75   60.69636  3.748373
## 15 2006-03-01  3.335982      3.41   60.77251  3.412437
## 16 2006-04-01  3.382306      3.20   60.86162  3.196536
## 17 2006-05-01  3.146361      3.00   60.59067  2.995879
## 18 2006-06-01  3.506301      3.18   60.64300  3.183866
## 19 2006-07-01  3.665275      3.06   60.80929  3.063455
## 20 2006-08-01  3.616751      3.47   61.11961  3.465846
##    inf_mensual
## 1           NA
## 2   0.33317341
## 3   0.45072568
## 4   0.35614168
## 5  -0.25122538
## 6  -0.09598788
## 7   0.39137218
## 8   0.11941242
## 9   0.40078227
## 10  0.24544915
## 11  0.71973163
## 12  0.61423467
## 13  0.58640940
## 14  0.15301369
## 15  0.12546730
## 16  0.14662132
## 17 -0.44517837
## 18  0.08635579
## 19  0.27422069
## 20  0.51030840</code></pre>
</div>
</div>
<div id="tablas" class="section level1">
<h1>Tablas</h1>
<p>Hay muchos paquetes para hacer tablas como <em>kable</em>, <em>kableExtra</em> y <em>stargazer</em>.</p>
<div id="kable" class="section level2">
<h2>Kable</h2>
<p>Casi todo salio de <a href="https://bookdown.org/yihui/rmarkdown-cookbook/kable.html">aquí</a>. Ahora un ejemplo con nuestra matriz <strong>A</strong>.</p>
<pre class="r"><code>kable(A, 
      caption = &quot;Primera matriz creada en forma de tabla&quot;,
      digits = 0, #para ponerle la cantidad de números después del punto
      col.names = c(&quot;$X_i$&quot;,&quot;$Y_i$&quot;)
      )</code></pre>
<table>
<caption>
Primera matriz creada en forma de tabla
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
<span class="math inline">\(X_i\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(Y_i\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
</tr>
</tbody>
</table>
<p>En <em>kable</em> no se pueden cambiar los nombres a los renglones de una matriz, se tienen que poner previamente con el comando visto en la sección anterior. Además, para poner fórmulas o caracteres especiales se necesita una sintaxis específica, como se muestra a continuación.</p>
<pre class="r"><code>rownames(B) &lt;- c(&quot;$\\alpha$&quot;,&quot;$\\beta$&quot;,&quot;$\\gamma$&quot;)
kable(B, col.names = c(&quot;$\\eta$&quot;,&quot;$\\delta$&quot;,&quot;$\\iota$&quot;))</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
<span class="math inline">\(\eta\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\delta\)</span>
</th>
<th style="text-align:right;">
<span class="math inline">\(\iota\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<span class="math inline">\(\alpha\)</span>
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(\beta\)</span>
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(\gamma\)</span>
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="econometría" class="section level1">
<h1>Econometría</h1>
<p>Primero creamos una muestra aleatoria i.i.d: <span class="math display">\[
\begin{Bmatrix} \begin{pmatrix}  Y_i \\ X_{1i}\\ X_{2i} \end{pmatrix} \end{Bmatrix}_{i=1}^{400} \sim N_3 \begin{bmatrix} \begin{pmatrix}  1 \\ 0\\ 2 \end{pmatrix}, \begin{pmatrix}  0.8 &amp; 0.4 &amp; -0.2 \\ 0.4 &amp; 1.0 &amp; -0.8 \\ -0.2 &amp; -0.8 &amp; 2.0 \end{pmatrix}  \end{bmatrix}.
\]</span></p>
<pre class="r"><code>#Para los parámetros
mu &lt;- c(100,0,2)
sigma &lt;- matrix(c(0.8, 0.4, -0.2, 0.4, 1, -0.8, -0.2, -0.8, 2), nrow = 3, byrow = T)
#Para general la muestra 
MA &lt;- mvrnorm(400,mu,sigma) #mvrnorm de la libreria MASS
Y &lt;- MA[,1] 
X &lt;- cbind(rep(1,400),MA[,2:3])</code></pre>
<p>Sabemos que el estimador de minimos cuadrados ordinarios es <span class="math inline">\(\hat b_{MCO}=(X^{\prime}X)^{-1}X^{\prime}Y\)</span>, por lo que ahora podemos calcularlo fácilmente.</p>
<pre class="r"><code>(b_mco &lt;- solve(t(X)%*%X)%*%t(X)%*%Y)</code></pre>
<pre><code>##            [,1]
## [1,] 99.7057781
## [2,]  0.4935216
## [3,]  0.1363669</code></pre>
<div id="propiedades-estadísticas-de-los-estimadores" class="section level2">
<h2>Propiedades estadísticas de los estimadores</h2>
<div id="insesgadez" class="section level3">
<h3>Insesgadez</h3>
<p>Generamos una muestra i.i.d <span class="math inline">\(\begin{pmatrix} X_{1i} \\ X_{2i} \end{pmatrix}_{i=1}^{400} \sim N \begin{pmatrix} \begin{pmatrix} 13 \\ 8 \end{pmatrix}, \begin{pmatrix} 4 &amp; 0 \\ 0 &amp; 4.5 \end{pmatrix} \end{pmatrix}\)</span> de variables aleatorias i.i.d.</p>
<pre class="r"><code>#Para plantar una &quot;semilla&quot; y se generen siempre los mismos números aleatorios
set.seed(2020)
#Para los parámetros de la muestra
mu &lt;- c(13,8)
sigma &lt;- matrix(c(4, 0, 0, 4.5), nrow = 2, byrow = T)
MA &lt;- mvrnorm(400,mu,sigma)</code></pre>
<p>Ahora generamos una muestra i.i.d. <span class="math inline">\(\{U_i\}_{i=1}^{400}\)</span> de v.a.s i.i.d donde <span class="math inline">\(U_i \sim N(0,1)\)</span>, <span class="math inline">\(i=1,2,...,400\)</span> tal que <span class="math inline">\(U_i\)</span> y <span class="math inline">\(\mathbf{X}_i\)</span> son independientes <span class="math inline">\(\forall i \neq j\)</span> , <span class="math inline">\(i,j \in \{1,2,...,400\}\)</span>.</p>
<pre class="r"><code>U &lt;- rnorm(400,mean=0,sd=1)</code></pre>
<p>Con estos datos generamos la muestra <span class="math inline">\(\{Y_i\}_{i=1}^{400}\)</span> donde <span class="math inline">\(Y_i=0.6+0.9X_{1i}+0.4X_{2i}+U_i\)</span> , <span class="math inline">\(i=1,2,...,400\)</span>.</p>
<pre class="r"><code>Y &lt;- matrix(0, ncol=1, nrow=400)
for(i in 1:400) {
  Y[i,] &lt;- 0.6 + 0.9*MA[i,1] + 0.6*MA[i,2] + U[i]
}</code></pre>
<p>Ahora calculamos el estimador <span class="math inline">\(\hat{b}_{MCO}=\begin{pmatrix} \hat \beta_{0} \\ \hat \beta_{1} \\ \hat \beta_{2} \end{pmatrix}\)</span>:</p>
<pre class="r"><code>#Primero formamos una matriz con un vector de unos al inicio para la constante 
X_1 &lt;- cbind(rep(1,400),MA[,1],MA[,2])
#Ahora sí estimamos b_mco
b_mco &lt;- solve(t(X_1)%*%X_1)%*%t(X_1)%*%Y
#Para presentar los resultados
rownames(b_mco) &lt;- c(&quot;$\\beta_1$&quot;,&quot;$\\beta_2$&quot;,&quot;$\\beta_3$&quot;)
kable(b_mco, caption = &quot;Resultados&quot;, digits = 3)</code></pre>
<table>
<caption>
Resultados
</caption>
<tbody>
<tr>
<td style="text-align:left;">
<span class="math inline">\(\beta_1\)</span>
</td>
<td style="text-align:right;">
0.745
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(\beta_2\)</span>
</td>
<td style="text-align:right;">
0.909
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(\beta_3\)</span>
</td>
<td style="text-align:right;">
0.567
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
